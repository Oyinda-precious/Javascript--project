<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Welcome to Firebase Hosting</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <link rel="stylesheet" href="Realestate.css" />
  </head>
  <body>
    <div class="main">
      <div id="signup">
        <div id="signUpForm">
          <div id="displaydiv">
            <div id="checkk">Sign up</div>
            <div id="checkk"><a href="Login.html">Login</a></div>
          </div>

          <input
            id="userName"
            type="text"
            name="txt"
            placeholder="Username"
            required=""
          />
          <input
            id="email"
            type="email"
            name="email"
            placeholder="Email"
            required=""
          />
          <input
            id="passWord"
            type="text"
            name="pswd"
            placeholder="Password"
            required=""
          />
          <button id="signmeup">Sign up</button>
          <!-- <button>Logout</button> -->
        </div>
        <div>
          <div id="thehr">
            <hr />
          </div>

          <div id="ordiv">Or</div>
        </div>
        <button id="signGoogle" onclick="signGoogle()">
          Continue with Google
        </button>
        <p id="showname"></p>
      </div>
    </div>
  </body>
</html>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
  import {
    getAuth,
    GoogleAuthProvider,
    signInWithPopup,
    sendEmailVerification,
  } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js";

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyBLjHFnJ71ZHuSOzkRZQOZfsvBJlk0Yrhg",
    authDomain: "real-estate-project-24ad8.firebaseapp.com",
    projectId: "real-estate-project-24ad8",
    storageBucket: "real-estate-project-24ad8.appspot.com",
    messagingSenderId: "721597807443",
    appId: "1:721597807443:web:3fbec0af1b3cf348da3fa6",
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  const signGoogle = () => {
    signInWithPopup(auth, provider)
      .then((result) => {
        // The signed-in user info.
        const user = result.user;
        console.log(user);
        if (user) {
          sendEmailVerification(auth.currentUser).then(() => {
            console.log("Email verification sent");
          });
        } else {
          console.log("user not found");
        }
      })
      .catch((error) => {
        // Handle Errors here.
        const errorCode = error.code;
        const errorMessage = error.message;
        // The email of the user's account used.
        const email = error.customData.email;
        // The AuthCredential type that was used.
        const credential = GoogleAuthProvider.credentialFromError(error);
        console.log(errorCode);
        console.log(errorMessage);
        console.log(email);
        console.log(credential);
      });
  };
  window.signGoogle = signGoogle;
</script>
